---
title: "群晖SSL证书替换"
createdAt: 2025-05-12
description: "群晖SSL证书替换,记录一下"
comment: true
toc: true
---

## 问题

如果通过群晖直接申请 Let's Encrypt 证书，会提示证书申请失败，原因是国内的 Let's Encrypt 服务器无法访问。

## 如何解决

基本流程：

1. 从域名服务商那里申请一个免费的 SSL 证书，或者购买一个付费的 SSL 证书。然后将证书文件下载到本地。选择 nginx 格式的证书文件。
   [![CleanShot 2025-05-10 at 19.00.15.png](https://home.matrixpunk.com:9800/i/2025/05/17/68285df5a92ff.png)](https://home.matrixpunk.com:9800/i/2025/05/17/68285df5a92ff.png)
2. 下载解压缩包，解压缩后会得到以下文件：
   - 域名.com_bundle.crt
   - 域名.com_bundle.pem
   - 域名.com.csr
   - 域名.com.key
3. 将证书文件上传到群晖的 NAS 上，进入“控制面板” -> “安全性” -> “证书”，点击“导入”按钮，选择“从文件导入”，然后选择刚才下载的证书文件。
4. 在“导入证书”页面中，选择“从文件导入”选项，然后点击“浏览”按钮，选择需要导入的证书文件。
5. 证书选择 域名.com_bundle.pem，私钥选择域名.com.key。
6. 点击“确定”按钮，等待证书导入完成。

## 特殊

> 由于阿里云的证书有效时间是 1 月，所有每个月都得申请，太麻烦，因此我采取曲线救国的方式。

1. 从腾讯云申请一个免费的 SSL 证书，腾讯云的证书有效时间是 3 个月。
2. 由于腾讯云需要验证 DNS 解析，所以需要在域名服务商那里添加一条 TXT 记录，验证通过后就可以申请证书了。
   [![CleanShot 2025-05-14 at 09.11.29.png](https://home.matrixpunk.com:9800/i/2025/05/17/682861c8a1f4a.png)](https://home.matrixpunk.com:9800/i/2025/05/17/682861c8a1f4a.png)
3. 进入阿里云的域名解析，添加一条 TXT 记录，内容为腾讯云提供的验证信息。
4. 等待腾讯云的验证通过后，就可以申请证书了。
5. 采取以上的基本流程，就可以完成替换 SSL 证书了。
